<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><title>部署ASF并迁移Huggingface | zmalの折腾笔记</title><meta name="author" content="zmal"><meta name="description" content="总能在平凡的日子里发现无数温暖的惊喜"><meta name="keywords" content="blog"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><link rel="icon" href="https://img.zmal.top/avatar.png"><link rel="preconnect" href="https://s4.zstatic.net"><link rel="preconnect" href="https://fonts.googleapis.cn"><link rel="preconnect" href="https://fonts.gstatic.cn" crossorigin><script src="https://s4.zstatic.net/ajax/libs/vue/3.3.7/vue.global.prod.min.js"></script><link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/font-awesome/6.4.2/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/6.2.0/fira_code.css"><script>let mixins={}</script><script src="https://upcdn.b0.upaiyun.com/libs/jquery/jquery-2.0.2.min.js"></script><script src="https://polyfill.alicdn.com/v3/polyfill.min.js?features=default"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism-tomorrow.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.css"><script src="/js/PrismJS.js"></script><script src="https://s4.zstatic.net/npm/twikoo@1.6.44/dist/twikoo.min.js"></script><link rel="stylesheet" href="/css/main.css"><style>body{cursor:url(https://img.zmal.top/20250905/Arrow.175qf571ue.ico),auto}</style><meta name="generator" content="Hexo 7.3.0"></head><body><div id="layout"><transition name="fade"><div id="loading" v-if="loading"><div id="loading-circle"></div><div id="loading-toast"><h2 :id="null">LOADING</h2><p>加载过慢请开启缓存 浏览器默认开启</p><img src="https://img.zmal.top/20250905/loading.7i0qd0vvo5.gif"></div></div></transition><div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}"><nav id="desktop-menu"><a class="title" href="/"><span>ZMALの折腾笔记</span> </a><a href="/"><i class="fa-solid fa-house fa-fw"></i> <span>&ensp;Home</span> </a><a href="/about"><i class="fa-solid fa-id-card fa-fw"></i> <span>&ensp;About</span> </a><a href="/archives"><i class="fa-solid fa-box-archive fa-fw"></i> <span>&ensp;Archives</span> </a><a href="/tags"><i class="fa-solid fa-tags fa-fw"></i> <span>&ensp;Tags</span></a></nav><nav id="mobile-menu"><div class="title" @click="showMenuItems = !showMenuItems"><i class="fa-solid fa-bars fa-fw"></i> <span>&emsp;ZMALの折腾笔记</span></div><transition name="slide"><div class="items" v-show="showMenuItems"><a href="/"><div class="item"><div style="min-width:20px;max-width:50px;width:10%"><i class="fa-solid fa-house fa-fw"></i></div><div style="min-width:100px;max-width:150%;width:20%">Home</div></div></a><a href="/about"><div class="item"><div style="min-width:20px;max-width:50px;width:10%"><i class="fa-solid fa-id-card fa-fw"></i></div><div style="min-width:100px;max-width:150%;width:20%">About</div></div></a><a href="/archives"><div class="item"><div style="min-width:20px;max-width:50px;width:10%"><i class="fa-solid fa-box-archive fa-fw"></i></div><div style="min-width:100px;max-width:150%;width:20%">Archives</div></div></a><a href="/tags"><div class="item"><div style="min-width:20px;max-width:50px;width:10%"><i class="fa-solid fa-tags fa-fw"></i></div><div style="min-width:100px;max-width:150%;width:20%">Tags</div></div></a></div></transition></nav></div><transition name="fade"><div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div></transition><div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'"><div class="article"><div><h1>部署ASF并迁移Huggingface</h1></div><div class="info"><span class="date"><span class="icon"><i class="fa-solid fa-calendar fa-fw"></i></span> 2024/10/25 <span class="icon"><i class="fa-solid fa-wand-magic-sparkles"></i></span> 2025/1/3 </span><span class="tags"><span class="icon"><i class="fa-solid fa-tags fa-fw"></i> </span><span class="tag"><a href="/tags/%E6%95%99%E7%A8%8B/" style="color:'#ff7d73'">教程 </a></span><span class="tag"><a href="/tags/%E8%BF%81%E7%A7%BB/" style="color:'#00bcd4'">迁移 </a></span><span class="tag"><a href="/tags/Huggingface/" style="color:'#ffa2c4'">Huggingface</a></span></span></div><div class="content" v-pre><h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><p><del><a target="_blank" rel="noopener" href="https://github.com/JustArchiNET/ArchiSteamFarm">ASF</a> is a C# application with primary purpose of farming Steam cards from multiple accounts simultaneously. Unlike Idle Master which works only for one account at given time, while requiring Steam client running in the background and launching additional processes imitating “game playing” status, ASF doesn’t require any Steam client running in the background, doesn’t launch any additional processes and is made to handle unlimited Steam accounts at once. In addition to that, it’s meant to be run on servers or other desktop-less machines, and features full cross-OS support, which makes it possible to launch on any operating system with .NET Core runtime, such as Windows, Linux and macOS. ASF is possible thanks to gigantic amount of work done in marvelous SteamKit2 library.</del></p><p><a target="_blank" rel="noopener" href="https://github.com/JustArchiNET/ArchiSteamFarm">ASF</a> 是一款 C# 应用程序，其主要目的是同时从多个帐户中获取 Steam 卡。与 Idle Master 不同，Idle Master 每次只能为一个帐户工作，同时需要 Steam 客户端在后台运行并启动模拟“玩游戏”状态的其他进程，而 ASF 不需要任何 Steam 客户端在后台运行，不启动任何其他进程，并且可以同时处理无限数量的 Steam 帐户。除此之外，它还可以在服务器或其他无桌面机器上运行，并具有完整的跨操作系统支持，这使得它可以在任何具有 .NET Core 运行时的操作系统上启动，例如 Windows、Linux 和 macOS。ASF 之所以能够实现，要归功于在出色的 SteamKit2 库中所做的大量工作。</p><span id="more"></span><h1 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h1><p><a target="_blank" rel="noopener" href="https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Setting-up-zh-CN">官方文档</a></p><h2 id="安装-NET-依赖"><a href="#安装-NET-依赖" class="headerlink" title="安装.NET 依赖"></a>安装.NET 依赖</h2><p><a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/dotnet/core/install/windows">Windows：</a></p><p><a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/cpp/windows/latest-supported-vc-redist?view=msvc-170#visual-studio-2015-2017-2019-and-2022">Microsoft Visual C++ Redistributable Update</a>（64 位为 x64，32 位为 x86，64 位 ARM 为 arm64）<br>强烈建议您确保已安装所有 Windows 更新。 如果您未启用自动更新，则至少需要安装 KB2533623 和 KB2999226，但有可能还需要更多。 如果您的 Windows 已更新到最新，则无需专门安装。</p><p><a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/dotnet/core/install/linux">Linux：</a></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">apt-get</span> update<span class="token operator">&amp;&amp;</span> <span class="token function">apt-get</span> upgrade -y<span class="token operator">&amp;&amp;</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> ca-certificates libc6 libgcc-s1 libicu70 libgssapi-krb5-2 libssl3 libstdc++6 zlib1g<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="下载可执行文件"><a href="#下载可执行文件" class="headerlink" title="下载可执行文件"></a>下载可执行文件</h2><p><a target="_blank" rel="noopener" href="https://github.com/JustArchiNET/ArchiSteamFarm/releases/latest">https://github.com/JustArchiNET/ArchiSteamFarm/releases/latest</a></p><p><del>解压不教</del></p><p>这是一个文件夹结构的示例：</p><blockquote><p>D:\ASF (放置您自己与 ASF 相关的东西)<br>├── ASF shortcut.lnk (可选)<br>├── Config shortcut.lnk (可选)<br>├── Commands.txt (可选)<br>├── MyExtraScript.bat (可选)<br>├── (…) (任何您选择放在这里的其他文件，可选)<br>└── Core (ASF 自身专用文件夹，也就是您解压压缩包的地方)<br>├── ArchiSteamFarm(.exe)<br>├── config<br>│ ├── yourbotname.json # 配置好的 json 放这个位置<br>├── logs<br>├── plugins<br>└── (…)</p></blockquote><p><img src="https://img.zmal.top/old/1.3uuzeq4cw1.jpg" alt="1"></p><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>推荐使用官方<a target="_blank" rel="noopener" href="https://justarchinet.github.io/ASF-WebConfigGenerator/#/bot">在线配置文件生成器</a></p><p>你要是想自己手搓<a target="_blank" rel="noopener" href="https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Configuration-zh-CN">详细文档</a>在这里</p><p><img src="https://img.zmal.top/old/2.9dd3uvckzm.jpg" alt="2"></p><p>下载之后扔到 config 文件夹</p><h2 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">./ArchiSteamFarm<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>第一次推荐控制台启动，方便看日志，后期 windows 可以用文件夹里的.exe 启动，Linux 可以用文件夹里的.sh 启动<br><img src="https://img.zmal.top/old/3.4ub2rw741d.jpg" alt="3"><img src="https://img.zmal.top/old/4.1sf6qo5ruc.jpg" alt="4"></p><h2 id="后期修改配置文件"><a href="#后期修改配置文件" class="headerlink" title="后期修改配置文件"></a>后期修改配置文件</h2><p>使用 <a target="_blank" rel="noopener" href="https://github.com/JustArchiNET/ArchiSteamFarm/wiki/IPC-zh-CN#asf-ui">ASF-ui</a><br>当你看到控制台这些日志输出的时候，说明 ASF-ui 已被正确启动<del>*别管我改端口号，默认就是<strong>1242*</strong></del><br><img src="https://img.zmal.top/old/5.5tr6529v79.jpg" alt="5"><br>访问<a target="_blank" rel="noopener" href="http://localhost:1242/">http://localhost:1242</a><br>你会看到这样的面板<br><img src="https://img.zmal.top/old/6.8dx0hp9tti.jpg" alt="6"><br><img src="https://img.zmal.top/old/7.51eanbt9h3.jpg" alt="7"><br>默认开始挂卡<br>我们<del>只需要</del>在 GamesPlayedWhileIdle 添加游戏的 id 就可以开始刷指定游戏的时长<br>其他的里面解释的很详细，自己看着改</p><h2 id="进一步配置"><a href="#进一步配置" class="headerlink" title="进一步配置"></a>进一步配置</h2><p><strong><em>同时挂多个帐户</em></strong><br>ASF 支持同时挂多个帐户，这也是它的主要功能之一。 您可以通过生成更多机器人配置文件来向 ASF 添加更多帐户，其方法与您之前生成第一个机器人配置完全相同。 您只需要确保两件事：</p><ul><li>机器人的名称是唯一的，如果您将第一个机器人命名为“MainAccount”，其他的机器人就不能再叫这个名字。</li><li>登录信息正确，包括 SteamLogin、 SteamPassword 和 SteamParentalCode（如果您启用了 Steam 家庭监护）。</li></ul><p><strong>懒得写了</strong>，进一步配置自己看<a target="_blank" rel="noopener" href="https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Setting-up-zh-CN#%E8%BF%9B%E4%B8%80%E6%AD%A5%E9%85%8D%E7%BD%AE">文档</a>去</p><h1 id="下面开始将迁移到-huggingface-的步骤"><a href="#下面开始将迁移到-huggingface-的步骤" class="headerlink" title="下面开始将迁移到 huggingface 的步骤"></a>下面开始将迁移到 huggingface 的步骤</h1><p>如果你不知道什么是<a target="_blank" rel="noopener" href="https://huggingface.co/">huggingface</a>，<del>那我也懒得解释，</del>你只需要知道它是和 cf 差不多的赛博大善人就行</p><p>注册，登录，<strong><del>不教</del></strong><br><img src="https://img.zmal.top/old/8.9gwpsl5np5.jpg" alt="8"><br>前面随便填，这里选 docker</p><p><code>public</code>公开方便后期保活，<code>private</code>涉密安全</p><p><img src="https://img.zmal.top/old/9.esnmmuptn.jpg" alt="9"><br>点这里创建 Dockerfile<img src="https://img.zmal.top/old/10.6ikfp2xe7w.jpg" alt="10"></p><pre class="line-numbers language-docker" data-language="docker"><code class="language-docker"><span class="token instruction"><span class="token keyword">FROM</span> ubuntu:22.04</span>
<span class="token instruction"><span class="token keyword">EXPOSE</span> 1242</span>

<span class="token instruction"><span class="token keyword">RUN</span> apt-get update <span class="token operator">\</span>
    &amp;&amp; apt-get upgrade -y <span class="token operator">\</span>
    &amp;&amp; apt-get install -y tzdata ca-certificates libc6 libgcc-s1 libicu70 libgssapi-krb5-2 libssl3 libstdc++6 zlib1g <span class="token operator">\</span>
    &amp;&amp; apt-get install -y git wget zip</span>

<span class="token instruction"><span class="token keyword">ENV</span> TZ=Asia/Shanghai</span>
<span class="token instruction"><span class="token keyword">RUN</span> ln -snf /usr/share/zoneinfo/<span class="token variable">$TZ</span> /etc/localtime &amp;&amp; echo <span class="token variable">$TZ</span> > /etc/timezone</span>

<span class="token instruction"><span class="token keyword">WORKDIR</span> /zmal</span>
<span class="token instruction"><span class="token keyword">RUN</span> wget https://github.com/JustArchiNET/ArchiSteamFarm/releases/download/6.0.7.5/ASF-linux-x64.zip</span>
<span class="token instruction"><span class="token keyword">RUN</span> unzip ASF-linux-x64.zip</span>

<span class="token instruction"><span class="token keyword">COPY</span> . .</span>

<span class="token comment">#你要是想裸奔zip不设密码下面这个RUN就不用抄</span>
<span class="token instruction"><span class="token keyword">RUN</span> <span class="token options"><span class="token property">--mount</span><span class="token punctuation">=</span><span class="token string">type=secret,id=zzz,mode=0444,required=true</span></span> <span class="token operator">\</span>
  unzip -P $(cat /run/secrets/zzz) config.zip -d /zmal/config/</span>

<span class="token comment">#裸奔的吧这行取消注释RUN unzip config.zip -d /zmal/config/</span>
<span class="token instruction"><span class="token keyword">RUN</span> chmod -R 777 /zmal</span>
<span class="token instruction"><span class="token keyword">CMD</span> bash ArchiSteamFarm-Service.sh</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>直接照抄</p><p>然后再<code>Files</code>选项卡找到 README.md<br>在末尾加上<code>app_port: 6221</code></p><p>停止你刚才在本地能正常跑的 asf，把 config 里面的文件打包成 config.zip,推荐带上解压密码</p><p><img src="https://img.zmal.top/old/11.3yelcfxflp.jpg" alt="11">上传之后到<code>setting</code>选项卡设置<code>Secrets</code><br><img src="https://img.zmal.top/old/12.7i0j2905dq.jpg" alt="12"><br>理论上来说过一会你就能在<code>app</code>选项卡进入<a target="_blank" rel="noopener" href="https://github.com/JustArchiNET/ArchiSteamFarm/wiki/IPC-zh-CN#asf-ui">ASF-ui</a>了，后期临时改配置都可以在里面操作</p><p>但<a target="_blank" rel="noopener" href="https://huggingface.co/">huggingface</a>的 docker 里面数据不能持久化，要想稳只能先暂停 bot，然后在本地改好重复上面的步骤覆盖上传 config.zip</p><p><a target="_blank" rel="noopener" href="https://huggingface.co/">huggingface</a>的 space<del>好像</del>三天无访问就会自动休眠，我这里采用<a target="_blank" rel="noopener" href="https://uptimerobot.com/">uptimerobot</a>探针报活，能用，但不好用，如果你知道其他更好的方法欢迎告诉我</p></div><div id="comment"><div id="twikoo-container"></div></div></div><footer id="footer"><div id="footer-wrap"><div>&copy; 2022 - 2025 zmalの折腾笔记 <span id="footer-icon"><i class="fa-solid fa-font-awesome fa-fw"></i> </span>&commat;zmal</div><div>Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp; <a target="_blank" rel="noopener" href="https://github.com/kmizmal/hexo-theme-particlex">ParticleX Theme</a></div><div>备案号： <a target="_blank" rel="noopener" href="https://icp.gov.moe/?keyword=20250124">萌ICP备20250124号</a></div><div class="visitors">本站访问次数：<span id="finicount_views">加载中...</span></div><script>if("localhost"!==location.hostname&&"127.0.0.1"!==location.hostname){let e=document.createElement("script");e.src="https://finicounter.eu.org/finicounter.js",e.async=!0,e.onload=()=>{let t=setInterval(()=>{try{var e;"undefined"!=typeof finiCounter&&void 0!==finiCounter.views&&((e=document.getElementById("finicount_views"))&&(e.textContent=finiCounter.views),clearInterval(t))}catch(e){console.warn("访客统计异常：",e),clearInterval(t)}},500)},e.onerror=()=>{var e=document.getElementById("finicount_views");e&&(e.textContent="统计服务不可用")},document.body.appendChild(e)}else{let e=document.getElementById("finicount_views");e&&(e.textContent="本地预览中")}</script></div></footer></div><script src="/js/canvas.js"></script><div id="scrollProgressBar" :style="{ width: scrollPercent + '%' }"></div><div id="scrollTop" @click="scrollToTop" :style="{ opacity: scrollPercent > 20 ? 1 : 0, pointerEvents: scrollPercent > 20 ? 'auto' : 'none' }"><i class="fa-solid fa-arrow-up"></i></div></div><script src="/js/main.js"></script><script>twikoo.init({el:"#twikoo-container",envId:"https://twikoo.zmal.top",region:"",path:location.pathname,lang:"zh-cn"})</script><script src="/js/span.js"></script></body></html>