<!DOCTYPE html><html lang=zh-CN><head><meta charset=utf-8><title>zmalの折腾笔记</title><meta name=author content=zmal><meta name=description content=总能在平凡的日子里发现无数温暖的惊喜><meta name=keywords content=blog><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><link rel=icon href=/images/avatar.png><link rel=preconnect href=https://s4.zstatic.net><script src=https://s4.zstatic.net/ajax/libs/vue/3.3.7/vue.global.prod.min.js></script><link rel=stylesheet href=https://s4.zstatic.net/ajax/libs/font-awesome/6.4.2/css/all.min.css><link rel=preconnect href=https://fonts.googleapis.cn><link rel=preconnect href=https://fonts.gstatic.cn crossorigin><link rel=stylesheet href="https://fonts.googleapis.cn/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap"><script>let mixins={}</script><script src=/js/jquery-3.7.1.js></script><script src="https://polyfill.alicdn.com/v3/polyfill.min.js?features=default"></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css><script src=/js/lib/highlight.js></script><script src=/js/lib/home.js></script><link rel=stylesheet href=/css/main.css><style>body{cursor:url(/images/Arrow.ico),auto}</style><script>document.addEventListener("DOMContentLoaded",function(){{var t=window,n=document;let e=n.createElement("div");e.style.cssText="position: fixed; top: 0; left: 0; width: 0; height: 3px;box-shadow: 0 0 3px #999; background: -webkit-linear-gradient(left, red,orange,yellow,green,blue,indigo,violet );z-index: 999999;-webkit-transition:width .3s linear;",n.body.appendChild(e);var i=t.innerHeight||n.documentElement.clientHeight||n.body.clientHeight;t.addEventListener("scroll",function(){e.style.width=Math.round(pageYOffset/(n.body.offsetHeight-i)*100)+"%"},!1)}})</script><meta name=generator content="Hexo 7.3.0"></head><body><div id=layout><transition name=fade><div id=loading v-show=loading><div id=loading-circle><h2>LOADING</h2><p>加载过慢请开启缓存 浏览器默认开启</p><img src=/images/loading.gif></div></div></transition><div id=menu :class="{ hidden: hiddenMenu, 'menu-color': menuColor}"><nav id=desktop-menu><a class=title href=/ ><span>ZMALの折腾笔记</span> </a><a href=/ ><i class="fa-solid fa-house fa-fw"></i> <span>&ensp;Home</span> </a><a href=/about><i class="fa-solid fa-id-card fa-fw"></i> <span>&ensp;About</span> </a><a href=/archives><i class="fa-solid fa-box-archive fa-fw"></i> <span>&ensp;Archives</span> </a><a href=/tags><i class="fa-solid fa-tags fa-fw"></i> <span>&ensp;Tags</span></a></nav><nav id=mobile-menu><div class=title @click="showMenuItems = !showMenuItems"><i class="fa-solid fa-bars fa-fw"></i> <span>&emsp;ZMALの折腾笔记</span></div><transition name=slide><div class=items v-show=showMenuItems><a href=/ ><div class=item><div style=min-width:20px;max-width:50px;width:10%><i class="fa-solid fa-house fa-fw"></i></div><div style=min-width:100px;max-width:150%;width:20%>Home</div></div></a><a href=/about><div class=item><div style=min-width:20px;max-width:50px;width:10%><i class="fa-solid fa-id-card fa-fw"></i></div><div style=min-width:100px;max-width:150%;width:20%>About</div></div></a><a href=/archives><div class=item><div style=min-width:20px;max-width:50px;width:10%><i class="fa-solid fa-box-archive fa-fw"></i></div><div style=min-width:100px;max-width:150%;width:20%>Archives</div></div></a><a href=/tags><div class=item><div style=min-width:20px;max-width:50px;width:10%><i class="fa-solid fa-tags fa-fw"></i></div><div style=min-width:100px;max-width:150%;width:20%>Tags</div></div></a></div></transition></nav></div><transition name=fade><div id=menu-curtain @click="showMenuItems = !showMenuItems" v-show=showMenuItems></div></transition><div id=main :class="loading ? 'into-enter-from': 'into-enter-active'"><div id=home-head><div id=home-background ref=homeBackground data-images=/images/brackgroud.jpg></div><div id=home-info @click=homeClick><span class=loop></span> <span class=loop></span> <span class=loop></span> <span class=loop></span> <span class=info><div class=wrap><h1>zmalの折腾笔记</h1><h3></h3><h5>总能在平凡的日子里发现无数温暖的惊喜</h5></div></span></div></div><div id=home-posts-wrap ref=homePostsWrap true><div id=home-posts><div class=post><a href=/2025/0214/Set-up-the-Life-Path-2-server><h2 class=post-title>搭建求生之路2服务器</h2></a><div class=category-and-date><span class=date><span class=icon><i class="fa-solid fa-calendar fa-fw"></i> </span>2025/2/14</span></div><div class=description><div class=content v-pre><blockquote><p>以下是常用的 3 个插件，均下载 linux 版本，注意分辨 “l4d” 和 “l4d2”<br>SourceMOD 下载地址：<a target=_blank rel=noopener href="https://www.sourcemod.net/downloads.php?branch=stable">https://www.sourcemod.net/downloads.php?branch=stable</a><br>MetaMOD 下载地址：<a target=_blank rel=noopener href="http://metamodsource.net/downloads.php?branch=stable">http://metamodsource.net/downloads.php?branch=stable</a><br>Tickrate Enabler 下载地址：<a target=_blank rel=noopener href=https://github.com/accelerator74/Tickrate-Enabler/releases/tag/build>https://github.com/accelerator74/Tickrate-Enabler/releases/tag/build</a></p></blockquote><p>steamcmd 需要的依赖<code>lib32gcc-s1</code></p><pre><code>apt install lib32gcc-s1
</code></pre><p>下载文件并解压</p><pre><code>curl -sqL &quot;https://steamcdn-a.akamaihd.net/client/installer/steamcmd_linux.tar.gz&quot; | tar zxvf -
</code></pre><p>非交互没事安装求生之路 2 服务端</p><pre><code>./steamcmd.sh +force_install_dir ~/Steam/l4d2_server +login [username] [secret] +app_update 222860 validate +quit
</code></pre><p>启动命令</p><pre><code>cd ./l4d2_server

#./srcds_run -game left4dead2 +map [map] +maxplayers [gamenum] -ip 0.0.0.0 -port 27015

./srcds_run -game left4dead2 +map c1m1_hotel +maxplayers 4 -ip 0.0.0.0 -port 27015
</code></pre><p>无交互模式</p><pre><code>export DEBIAN_FRONTEND=noninteractive
</code></pre><pre><code>apt install software-properties-common -y
apt-add-repository non-free -y
dpkg --add-architecture i386
apt update -y
echo steam steam/question select &quot;I AGREE&quot; | sudo debconf-set-selections
apt install -y steamcmd
</code></pre><p>可能需要链接</p><pre><code>mkdir -p ~/.steam/sdk32
ln -sf /sec/root/Steam/linux32/steamclient.so ~/.steam/sdk32/steamclient.so
</code></pre><p>因为求生之路 2 服务端只能通过 steamcmd 安装，又是 udp 流量，我没有服务器玩，就写到这里吧</p></div></div><div class=post-tags><span class=icon><i class="fa-solid fa-tags fa-fw"></i> </span><span class=tag><a href=/tags/%E7%AC%94%E8%AE%B0/ style=color:#00bcd4>笔记</a> </span><span class=tag><a href=/tags/Steam/ style=color:#ff7d73>Steam</a> </span><span class=tag><a href=/tags/%E6%95%99%E7%A8%8B/ style=color:#00bcd4>教程</a> </span><span class=tag><a href=/tags/%E6%B8%B8%E6%88%8F/ style=color:#03a9f4>游戏</a></span></div><a href=/2025/0214/Set-up-the-Life-Path-2-server class=go-post>阅读全文</a></div><div class=post><a href=/2025/0210/Joker><h2 class=post-title>小丑</h2></a><div class=category-and-date><span class=date><span class=icon><i class="fa-solid fa-calendar fa-fw"></i> </span>2025/2/10</span></div><div class=description><div class=content v-pre><p><img src=https://img.zmal.top/2.7axb6tnv7r.jpg alt=2><br><img src=https://img.zmal.top/1.1vysoe8ptu.jpg alt=1></p></div></div><div class=post-tags><span class=icon><i class="fa-solid fa-tags fa-fw"></i> </span><span class=tag><a href=/tags/%E6%97%A5%E8%AE%B0/ style=color:#ffa2c4>日记</a></span></div><a href=/2025/0210/Joker class=go-post>阅读全文</a></div><div class=post><a href=/2025/0209/oh,-sweetie><h2 class=post-title>sleepy?</h2></a><div class=category-and-date><span class=date><span class=icon><i class="fa-solid fa-calendar fa-fw"></i> </span>2025/2/9</span></div><div class=description><div class=content v-pre><p>最进有一个人研究了好几天<br>一个用于 <del><em>视奸</em></del> 查看个人在线状态 (以及正在使用软件) 的 Flask 应用</p><p>我不说是谁<br><a target=_blank rel=noopener href=https://asfag654-j.hf.space/ >https://asfag654-j.hf.space</a></p><p><a target=_blank rel=noopener href=https://github.com/kmizmal/sleepy>GitHub</a></p></div></div><div class=post-tags><span class=icon><i class="fa-solid fa-tags fa-fw"></i> </span><span class=tag><a href=/tags/%E6%97%A5%E8%AE%B0/ style=color:#00a596>日记</a></span></div><a href=/2025/0209/oh,-sweetie class=go-post>阅读全文</a></div><div class=post><a href=/2025/0129/Happy-2025-New-Year><h2 class=post-title>2025新年快乐</h2></a><div class=category-and-date><span class=date><span class=icon><i class="fa-solid fa-calendar fa-fw"></i> </span>2025/1/29</span></div><div class=description><div class=content v-pre><blockquote><p>又是一年佳节至，新桃新符开宵市<br>不言旧岁非寻常，只言今朝胜昨日</p></blockquote><p><img src=https://img.zmal.top/hutao.1sf6qndkcp.webp alt=hutao><br><img src=https://img.zmal.top/2.1sf6qndkcd.webp alt=2></p></div></div><div class=post-tags><span class=icon><i class="fa-solid fa-tags fa-fw"></i> </span><span class=tag><a href=/tags/%E6%97%A5%E8%AE%B0/ style=color:#03a9f4>日记</a></span></div><a href=/2025/0129/Happy-2025-New-Year class=go-post>阅读全文</a></div><div class=post><a href=/2025/0108/rapid-adb-connection-at-hotspot><h2 class=post-title>热点下快速adb连接bat</h2></a><div class=category-and-date><span class=date><span class=icon><i class="fa-solid fa-calendar fa-fw"></i> </span>2025/1/8</span></div><div class=description><div class=content v-pre><p>我觉得<a target=_blank rel=noopener href=https://github.com/Genymobile/scrcpy>scrcpy</a>挺好用的，但是我刷了<a target=_blank rel=noopener href=https://github.com/Genymobile/scrcpy>box4</a>走系统级代理导致 usb 网络共享总是出现奇奇怪怪的 bug</p><p><del>但是不知道为什么一加开热点每次网关 ip 都会变，</del>(刷<a target=_blank rel=noopener href=https://github.com/XhyEax/SoftApHelper>SoftApHelPer</a>解决了)</p><p>索性在 gpt 的帮助下写了这个脚本，<del>开始是想用<code>find</code>匹配的，但是我处理不好 ipv6 那个地址处理捣乱，，所以脚本里面是硬编码了网关那一行</del><br>用了几天好像没什么问题就发出来当备份了</p><p><code>scrcpy</code>后面带的参数是为了处理键盘输入和音频传递</p><pre><code class=language-dos>@echo off
chcp 65001
setlocal enabledelayedexpansion

:: 获取默认网关 IP（通常是热点设备的 IP）
for /f &quot;tokens=3&quot; %%a in (&#39;route print ^| findstr &quot;0.0.0.0&quot;&#39;) do (
    set gatewayIP=%%a
    goto connect
)

:connect
echo 尝试连接设备：!gatewayIP!:6666 ...
adb connect !gatewayIP!:6666 &gt;nul 2&gt;&amp;1

:: 检查是否连接成功
for /f %%a in (&#39;adb devices&#39;) do (
    echo %%a | find &quot;!gatewayIP!:6666&quot; &gt;nul &amp;&amp; goto launch
)

echo 连接失败，请确认设备已开启 6666 端口并已授权 ADB 连接。
pause
exit /b

:launch
echo 连接成功，正在启动 scrcpy...
&quot;E:\study\bash\adb\scrcpy-win64-v3.1\scrcpy.exe&quot; --pause-on-exit=if-error --audio-source=playback --audio-dup --keyboard=uhid
pause
</code></pre></div></div><div class=post-tags><span class=icon><i class="fa-solid fa-tags fa-fw"></i> </span><span class=tag><a href=/tags/%E6%97%A5%E8%AE%B0/ style=color:#03a9f4>日记</a> </span><span class=tag><a href=/tags/%E7%AC%94%E8%AE%B0/ style=color:#00bcd4>笔记</a></span></div><a href=/2025/0108/rapid-adb-connection-at-hotspot class=go-post>阅读全文</a></div><div class=post><a href="/2025/0104/We-won't-fight-alone"><h2 class=post-title>我们不会孤军奋战</h2></a><div class=category-and-date><span class=date><span class=icon><i class="fa-solid fa-calendar fa-fw"></i> </span>2025/1/4</span></div><div class=description><div class=content v-pre><p><img src=https://img.zmal.top/0.6f0trdby11.jpg alt=0></p></div></div><div class=post-tags><span class=icon><i class="fa-solid fa-tags fa-fw"></i> </span><span class=tag><a href=/tags/%E6%97%A5%E8%AE%B0/ style=color:#ffa2c4>日记</a></span></div><a href="/2025/0104/We-won't-fight-alone" class=go-post>阅读全文</a></div><div class=post><a href=/2025/0104/hexo-heading-translation-plugin><h2 class=post-title>hexo标题翻译插件</h2></a><div class=category-and-date><span class=date><span class=icon><i class="fa-solid fa-calendar fa-fw"></i> </span>2025/1/4</span></div><div class=description><div class=content v-pre><p>使用<a target=_blank rel=noopener href=https://github.com/LibreTranslate/LibreTranslate>libretranslate</a>将 Hexo 中的汉字标题转成英文标题，开箱即用，无需手工修改标题内容</p><h3 id=安装><a href=#安装 class=headerlink title=安装></a>安装</h3><ol><li><strong><em>命令行安装</em></strong></li></ol><p>在 hexo 项目目录执行</p><pre><code class=language-bash>mkdir scripts
curl -O https://github.com/kmizmal/hexo-translate-title/releases/download/release/translate-title.js scripts/
</code></pre><ol start=2><li><strong><em>手动安装</em></strong></li></ol><p>在<a target=_blank rel=noopener href=https://github.com/kmizmal/hexo-translate-title/releases>Releases</a>下载 translate-title.js 之后手动扔到 hexo 项目目录下的 scripts 文件夹 <del>，如果没有就创建一个</del></p><h3 id=使用><a href=#使用 class=headerlink title=使用></a>使用</h3><p>将<code>_config.yml</code>中 permalink 后面的<code>:title</code>改为<code>:Translate_title</code></p><h4 id=配置（可选）><a href=#配置（可选） class=headerlink title=配置（可选）></a>配置（可选）</h4><p>在<code>translate-title.js</code>的 52 行<code>translate_api_url</code>后填入你自己搭建的<a target=_blank rel=noopener href=https://github.com/LibreTranslate/LibreTranslate>libretranslate</a>接口</p><p><del>或者提交 issue</del></p></div></div><div class=post-tags><span class=icon><i class="fa-solid fa-tags fa-fw"></i> </span><span class=tag><a href=/tags/%E5%B7%A5%E5%85%B7/ style=color:#ff7d73>工具</a></span></div><a href=/2025/0104/hexo-heading-translation-plugin class=go-post>阅读全文</a></div><div class=post><a href=/2024/1231/2024-is-over><h2 class=post-title>2024结束了</h2></a><div class=category-and-date><span class=date><span class=icon><i class="fa-solid fa-calendar fa-fw"></i> </span>2025/1/1</span></div><div class=description><div class=content v-pre><p><img src=https://img.zmal.top/1.4g4n1063g6.webp alt=1></p></div></div><div class=post-tags><span class=icon><i class="fa-solid fa-tags fa-fw"></i> </span><span class=tag><a href=/tags/%E6%97%A5%E8%AE%B0/ style=color:#00a596>日记</a></span></div><a href=/2024/1231/2024-is-over class=go-post>阅读全文</a></div><div class=post><a href="/2024/1228/It's-exposed"><h2 class=post-title>暴露了</h2></a><div class=category-and-date><span class=date><span class=icon><i class="fa-solid fa-calendar fa-fw"></i> </span>2024/12/28</span></div><div class=description><div class=content v-pre><p><img src=https://img.zmal.top/0.13lx6n44la.jpg alt=0><br>项目地址<a target=_blank rel=noopener href=https://github.com/JustArchiNET/ArchiSteamFarm>ASF</a></p><p>因为长时间用 ASF 挂游戏导致客户端统计全是 Linux 了</p></div></div><div class=post-tags><span class=icon><i class="fa-solid fa-tags fa-fw"></i> </span><span class=tag><a href=/tags/%E6%97%A5%E8%AE%B0/ style=color:#00a596>日记</a></span></div><a href="/2024/1228/It's-exposed" class=go-post>阅读全文</a></div><div class=post><a href=/2024/1204/Send-the-stone-again><h2 class=post-title>又送原石啦</h2></a><div class=category-and-date><span class=date><span class=icon><i class="fa-solid fa-calendar fa-fw"></i> </span>2024/12/4</span></div><div class=description><div class=content v-pre><p><img src=https://img.zmal.top/1.6m41mt11hl.jpg alt=1></p></div></div><div class=post-tags><span class=icon><i class="fa-solid fa-tags fa-fw"></i> </span><span class=tag><a href=/tags/%E6%97%A5%E8%AE%B0/ style=color:#ffa2c4>日记</a></span></div><a href=/2024/1204/Send-the-stone-again class=go-post>阅读全文</a></div><div class=page-current><a class=page-num href=/page/2/ ><i class="fa-solid fa-caret-left fa-fw"></i> </a><a class=page-num href=/ >1</a> <span class=page-omit>...</span> <span class=current>3</span> <a class=page-num href=/page/4>4 </a><a class=page-num href=/page/4/ ><i class="fa-solid fa-caret-right fa-fw"></i></a></div></div><div id=home-card><div id=card-style><div id=card-div><div class=avatar><img src=/images/avatar.png alt=avatar></div><div class=name>zmal</div><div class=description><p>总能在平凡的日子里发现无数温暖的惊喜</p></div><div class=friend-links><div class=friend-link><a target=_blank rel=noopener href=https://github.com/kmizmal>Github</a></div></div><div class=hitokoto><p id=hitokoto><a href=# id=hitokoto_text>一言获取中~</a></p></div><script>fetch("https://v1.hitokoto.cn").then(t=>t.json()).then(t=>{var o=document.querySelector("#hitokoto_text");o.href="https://hitokoto.cn/?uuid="+t.uuid,o.innerText=t.hitokoto}).catch(console.error)</script></div></div></div></div></div><footer id=footer><div id=footer-wrap><div>&copy; 2022 - 2025 zmalの折腾笔记 <span id=footer-icon><i class="fa-solid fa-font-awesome fa-fw"></i> </span>&commat;zmal</div><div>Based on the <a target=_blank rel=noopener href=https://hexo.io>Hexo Engine</a> &amp; <a target=_blank rel=noopener href=https://github.com/kmizmal/hexo-theme-particlex>ParticleX Theme</a></div><div>备案号： <a target=_blank rel=noopener href="https://icp.gov.moe/?keyword=20250124">萌ICP备20250124号</a></div><div class=visitors>本站访问次数:<span id=finicount_views></span><script async src=//finicounter.eu.org/finicounter.js></script></div><div><a target=_blank rel=noopener href=https://hoyocard.qhy04.com><img id=game_card src=https://hoyocard.qhy04.com/gs/detail/rand/288292888.png alt=玩原神的这辈子有了></a></div></div></footer></div><script src=/js/TopIndex.js></script><script src=/js/canvas.js></script><transition name=fade><div id=preview ref=preview v-show=previewShow><img id=preview-content ref=previewContent></div></transition><script src=/js/main.js></script><script src=/js/span.js></script></body></html>