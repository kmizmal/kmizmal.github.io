{"version":3,"names":["quotes","getRandomColor","Math","floor","random","toFixed","async","getfetchHitokoto","lastCall","now","Date","console","warn","response","fetch","hitokoto","json","push","log","error","$","click","e","target","is","randomIndex","length","quote","$quoteElement","text","css","top","pageY","left","pageX","color","append","startRotate","helf","endRotate","endX","endY","style","setProperty","duration","animation","on","remove"],"sources":["span.js.map"],"sourcesContent":["// 鼠标点击特效\nlet quotes = [\"去活出你自己。\", \"今天的好计划胜过明天的完美计划。\", \"不要轻言放弃，否则对不起自己。\", \"紧要关头不放弃，绝望就会变成希望。\", \"如果不能改变结果，那就完善过程。\", \"好好活就是干有意义的事，有意义的事就是好好活！\", \"桃李春风一杯酒，江湖夜雨十年灯。\", \"欲买桂花同载酒，终不似，少年游。\"];\n$(\"body\").click(function (e) {\n  // 如果点击的是图片，不触发文字特效\n  if ($(e.target).is(\"img\")) return;\n\n  // 随机选择语录\n  const randomIndex = Math.floor(Math.random() * quotes.length);\n  const quote = quotes[randomIndex];\n  const $quoteElement = $(\"<span class='quote'></span>\").text(quote).css({\n    \"top\": e.pageY - 50,\n    // 上移避免被鼠标遮挡\n    \"left\": e.pageX,\n    \"color\": getRandomColor()\n  });\n  $(\"body\").append($quoteElement);\n\n  // 随机动画参数\n  const startRotate = Math.floor(Math.random() * 41) - 20;\n  const helf = Math.random() > 0.5;\n  const endRotate = startRotate + (helf ? 15 : -10);\n  const endX = Math.random() * 60 - 30;\n  const endY = -(Math.random() * 80 + 100);\n\n  // 设置CSS变量用于动画\n  $quoteElement[0].style.setProperty('--start-rotate', `${startRotate}deg`);\n  $quoteElement[0].style.setProperty('--end-rotate', `${endRotate}deg`);\n  $quoteElement[0].style.setProperty('--end-x', `${endX}px`);\n  $quoteElement[0].style.setProperty('--end-y', `${endY}px`);\n\n  // 至少1秒的动画持续时间\n  const duration = Math.random() + 1.0;\n\n  // 应用动画\n  $quoteElement.css({\n    \"animation\": `quote-float ${duration}s ease-out forwards`,\n    \"will-change\": \"transform, opacity\"\n  });\n\n  // 动画结束后移除元素\n  $quoteElement.on(\"animationend\", function () {\n    $quoteElement.remove();\n  });\n  if (helf) {\n    getfetchHitokoto();\n  }\n});\nfunction getRandomColor() {\n  const r = Math.floor(Math.random() * 206) + 50; // 50-255 避免太暗\n  const g = Math.floor(Math.random() * 206) + 50;\n  const b = Math.floor(Math.random() * 206) + 50;\n  const a = (Math.random() * 0.2 + 0.8).toFixed(2); // 透明度 0.8-1.0\n  return `rgba(${r},${g},${b},${a})`;\n}\n// 获取一言 API\n// 限制调用频率为每分钟一次\n// 使用 fetch API 获取一言内容并添加到 quotes 数组中\n// 如果获取失败或没有 hitokoto 字段，则输出错误信息\n// 如果调用频率过快，则输出警告信息\nasync function getfetchHitokoto() {\n  if (!getfetchHitokoto.lastCall) {\n    getfetchHitokoto.lastCall = 0;\n  }\n  const now = Date.now();\n  if (now - getfetchHitokoto.lastCall < 60000) {\n    console.warn(\"调用频率太快，已被限制\");\n    return;\n  }\n  getfetchHitokoto.lastCall = now;\n  try {\n    const response = await fetch('https://v1.hitokoto.cn');\n    const {\n      hitokoto\n    } = await response.json();\n    if (hitokoto) {\n      quotes.push(hitokoto);\n      console.log(\"获取一言成功:\", hitokoto);\n    } else {\n      console.error(\"获取一言失败\");\n    }\n  } catch (error) {\n    console.error(\"请求出错:\", error);\n  }\n}"],"mappings":"AACA,IAAIA,OAAS,CAAC,UAAW,mBAAoB,kBAAmB,oBAAqB,mBAAoB,0BAA2B,mBAAoB,oBA8CxJ,SAASC,iBAKP,MAAO,QAJGC,KAAKC,MAAsB,IAAhBD,KAAKE,UAAkB,MAClCF,KAAKC,MAAsB,IAAhBD,KAAKE,UAAkB,MAClCF,KAAKC,MAAsB,IAAhBD,KAAKE,UAAkB,OACjB,GAAhBF,KAAKE,SAAiB,IAAKC,QAAQ,KAEhD,CAMAC,eAAeC,mBACRA,iBAAiBC,WACpBD,iBAAiBC,SAAW,GAE9B,MAAMC,EAAMC,KAAKD,MACjB,GAAIA,EAAMF,iBAAiBC,SAAW,IACpCG,QAAQC,KAAK,mBADf,CAIAL,iBAAiBC,SAAWC,EAC5B,IACE,MAAMI,QAAiBC,MAAM,2BACvBC,SACJA,SACQF,EAASG,OACfD,GACFf,OAAOiB,KAAKF,GACZJ,QAAQO,IAAI,UAAWH,IAEvBJ,QAAQQ,MAAM,SAElB,CAAE,MAAOA,GACPR,QAAQQ,MAAM,QAASA,EACzB,CAfA,CAgBF,CAjFAC,EAAE,QAAQC,MAAM,SAAUC,GAExB,GAAIF,EAAEE,EAAEC,QAAQC,GAAG,OAAQ,OAG3B,MAAMC,EAAcvB,KAAKC,MAAMD,KAAKE,SAAWJ,OAAO0B,QAChDC,EAAQ3B,OAAOyB,GACfG,EAAgBR,EAAE,+BAA+BS,KAAKF,GAAOG,IAAI,CACrEC,IAAOT,EAAEU,MAAQ,GAEjBC,KAAQX,EAAEY,MACVC,MAASlC,mBAEXmB,EAAE,QAAQgB,OAAOR,GAGjB,MAAMS,EAAcnC,KAAKC,MAAsB,GAAhBD,KAAKE,UAAiB,GAC/CkC,EAAOpC,KAAKE,SAAW,GACvBmC,EAAYF,GAAeC,EAAO,IAAM,IACxCE,EAAuB,GAAhBtC,KAAKE,SAAgB,GAC5BqC,IAAyB,GAAhBvC,KAAKE,SAAgB,KAGpCwB,EAAc,GAAGc,MAAMC,YAAY,iBAAkB,GAAGN,QACxDT,EAAc,GAAGc,MAAMC,YAAY,eAAgB,GAAGJ,QACtDX,EAAc,GAAGc,MAAMC,YAAY,UAAW,GAAGH,OACjDZ,EAAc,GAAGc,MAAMC,YAAY,UAAW,GAAGF,OAGjD,MAAMG,EAAW1C,KAAKE,SAAW,EAGjCwB,EAAcE,IAAI,CAChBe,UAAa,eAAeD,uBAC5B,cAAe,uBAIjBhB,EAAckB,GAAG,eAAgB,WAC/BlB,EAAcmB,QAChB,GACIT,GACF/B,kBAEJ","ignoreList":[]}